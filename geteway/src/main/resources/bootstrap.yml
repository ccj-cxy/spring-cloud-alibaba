spring:
  cloud:
    nacos:
      config:
        server-addr: 127.0.0.1:8848   #nacos的服务端地址
        file-extension: yaml #配置格式
        namespace: public
        group: DEFAULT_GROUP
      discovery:
        server-addr: 127.0.0.1:8848
        namespace: public
    gateway:
      discovery:
        locator:
          enabled: true #让gateway从nacos中获取信息
      #路由数组【路由 就是指当请求满足什么条件时转发到那个微服务上】
      routes:
        - id: user-provider #当前路由转发的标识，要求唯一 ，默认是UUID
          uri:  lb://user-provider #请求最终要被转发的地址
          order: 1 #路由的优先级 数字越小代表路由的优先级越高
          predicates: #断言(条件判断，返回值为boolean，转发满足的条件)
            - Path=/user-provider/** #当请求路径满足Path指定的规则时，此路由信息才会正常转发
           # - Between=2020-11-01T00:00:00.000+08:00,2020-11-02T00:00:00.000+08:00
          filters:  #过滤器（在请求传递过程中对请求做处理）
            - StripPrefix=1 #在请求转发之前去掉一层路径
        - id: user-consumer #当前路由转发的标识，要求唯一 ，默认是UUID
          uri:  lb://user-consumer #请求最终要被转发的地址
          order: 1 #路由的优先级 数字越小代表路由的优先级越高
          predicates: #断言(条件判断，返回值为boolean，转发满足的条件)
            - Path=/user-consumer/** #当请求路径满足Path指定的规则时，此路由信息才会正常转发
          filters:  #过滤器（在请求传递过程中对请求做处理）
            - StripPrefix=1 #在请求转发之前去掉一层路径
        - id: email-service #当前路由转发的标识，要求唯一 ，默认是UUID
          uri:  lb://email-service #请求最终要被转发的地址
          order: 1 #路由的优先级 数字越小代表路由的优先级越高
          predicates: #断言(条件判断，返回值为boolean，转发满足的条件)
            - Path=/email-service/** #当请求路径满足Path指定的规则时，此路由信息才会正常转发
          filters:  #过滤器（在请求传递过程中对请求做处理）
            - StripPrefix=1 #在请求转发之前去掉一层路径
        - id: rabbit-service #当前路由转发的标识，要求唯一 ，默认是UUID
          uri:  lb://rabbit-service #请求最终要被转发的地址
          order: 1 #路由的优先级 数字越小代表路由的优先级越高
          predicates: #断言(条件判断，返回值为boolean，转发满足的条件)
            - Path=/rabbit-service/** #当请求路径满足Path指定的规则时，此路由信息才会正常转发
          filters:  #过滤器（在请求传递过程中对请求做处理）
            - StripPrefix=1 #在请求转发之前去掉一层路径
        - id: snk-file #当前路由转发的标识，要求唯一 ，默认是UUID
          uri:  lb://snk-file #请求最终要被转发的地址
          order: 1 #路由的优先级 数字越小代表路由的优先级越高
          predicates: #断言(条件判断，返回值为boolean，转发满足的条件)
            - Path=/snk-file/** #当请求路径满足Path指定的规则时，此路由信息才会正常转发
          filters:  #过滤器（在请求传递过程中对请求做处理）
            - StripPrefix=1 #在请求转发之前去掉一层路径
  application:
    name: api-gateway
  redis:
    host: 127.0.0.1
    port: 6379
    database: 0
server:
  port: 7000

logging:
  level:
    com.alibaba.nacos.client.*: WARN